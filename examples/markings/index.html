<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>Flot Examples: Markings</title>
	<link href="../examples.css" rel="stylesheet" type="text/css">
	<!--[if lte IE 8]><script language="javascript" type="text/javascript" src="../../excanvas.min.js"></script><![endif]-->
	<script language="javascript" type="text/javascript" src="../../jquery.js"></script>
	<script language="javascript" type="text/javascript" src="../../jquery.flot.js"></script>
    <script language="javascript" type="text/javascript" src="../../jquery.flot.image.js"></script>
	<script type="text/javascript">

	    $(function () {
	        var yAxisLabels = ["", "Pre A1", "A1", "A2", "B1.1", "B1.2", "B2.1", "C1.1", "C1.2", "Level", "", ""];
	        var xAxisLabels = ["", "", "Age", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", ""];

	        function yAxisLabelGenerator(y) {
	            return yAxisLabels[y];
	        }

	        function xAxisLabelGenerator(x) {
	            return xAxisLabels[x];
	        }

	        var markings = [
                // markings that has 3 pixels rounded and with single line text
                { color: "rgba(87, 181, 255, 1)", xaxis: { from: 6, to: 10 }, yaxis: { from: 1.8, to: 2.2 }, texts: [{ text: "6 to 10", textColor: "#fff" }], rounded: 3 },
                { color: "#57b5ff", xaxis: { from: 9.5, to: 10.5 }, yaxis: { from: 2.8, to: 3.2 }, texts: [{ text: "10", textColor: "#fff" }], rounded: 3 },
                { color: "#57b5ff", xaxis: { from: 10, to: 14 }, yaxis: { from: 3.8, to: 4.2 }, texts: [{ text: "10 to 14", textColor: "#fff" }], rounded: 3 },
                { color: "#57b5ff", xaxis: { from: 14, to: 15 }, yaxis: { from: 4.8, to: 5.2 }, texts: [{ text: "14 to 15", textColor: "#fff" }], rounded: 3 },
                { color: "#d7048a", xaxis: { from: 15, to: 17 }, yaxis: { from: 5.8, to: 6.2 }, texts: [{ text: "15 to 17", textColor: "#fff" }], rounded: 3 },
                { color: "#838383", xaxis: { from: 17, to: 19 }, yaxis: { from: 6.8, to: 7.2 }, texts: [{ text: "17 and up", textColor: "#fff" }], rounded: 3 },
                { color: "#838383", xaxis: { from: 17, to: 19 }, yaxis: { from: 7.8, to: 8.2 }, texts: [{ text: "17 and up", textColor: "#fff" }], rounded: 3 },

                { color: "#57b5ff", xaxis: { from: 6.9, to: 7 }, yaxis: { from: 1.2, to: 1.8 } },
	            // markings with multiline text.
                { color: "#e2f0f9", xaxis: { from: 7, to: 8 }, yaxis: { from: 1.2, to: 1.8 }, texts: [{ text: "HF", textColor: "#000", textAlign: "left", textMargin: "0 0 0 1", font: "bold 12px Arial" }, { text: "2A-2B", textColor: "#000", textAlign: "left", textBaseline: "bottom", textMargin: "0 0 0 1", font: "10px Arial" }] },
                { color: "#57b5ff", xaxis: { from: 7.9, to: 8 }, yaxis: { from: 2.2, to: 2.8 } },
                { color: "#e2f0f9", xaxis: { from: 8, to: 9 }, yaxis: { from: 2.2, to: 2.8 }, texts: [{ text: "HF", textColor: "#000", textAlign: "left", textMargin: "0 0 0 1", font: "bold 12px Arial" }, { text: "2A-2B", textColor: "#000", textAlign: "left", textBaseline: "bottom", textMargin: "0 0 0 1", font: "bold 10px Arial" }] },
                { color: "#57b5ff", xaxis: { from: 8.9, to: 9 }, yaxis: { from: 2.2, to: 2.8 } },
                { color: "#e9e9e9", xaxis: { from: 9, to: 10 }, yaxis: { from: 2.2, to: 2.8 }, texts: [{ text: "HF", textColor: "#000", textAlign: "left", textMargin: "0 0 0 1", font: "bold 12px Arial" }, { text: "2A-2B", textColor: "#000", textAlign: "left", textBaseline: "bottom", textMargin: "0 0 0 1", font: "bold 10px Arial" }] },

                { color: "#e2f0f9", xaxis: { from: 10, to: 10.5 }, yaxis: { from: 2.2, to: 2.8 }, texts: [{ text: "TB", textColor: "#000", textAlign: "left", textMargin: "0 0 0 1", font: "bold 12px Arial" }, { text: "BX4", textColor: "#000", textAlign: "left", textBaseline: "bottom", textMargin: "0 0 0 1", font: "bold 10px Arial" }] },

                { color: "#57b5ff", xaxis: { from: 10.4, to: 10.5 }, yaxis: { from: 3.2, to: 3.8 } },
                { color: "#e2f0f9", xaxis: { from: 10.5, to: 11.5 }, yaxis: { from: 3.2, to: 3.8 }, texts: [{ text: "TB", textColor: "#000", textAlign: "left", textMargin: "0 0 0 1", font: "bold 12px Arail" }, { text: "BX7-8", textColor: "#000", textAlign: "left", textBaseline: "bottom", textMargin: "0 0 0 1", font: "bold 10px Arail" }] },

                { color: "#b8b8b8", xaxis: { from: 11.4, to: 11.5 }, yaxis: { from: 4.2, to: 4.8 } },
                { color: "#e6e6e6", xaxis: { from: 11.5, to: 12.5 }, yaxis: { from: 4.2, to: 4.8 }, texts: [{ text: "TB", textColor: "#000", textAlign: "left", textMargin: "0 0 0 1", font: "bold 12px Arial" }, { text: "BX7-8", textColor: "#000", textAlign: "left", textBaseline: "bottom", textMargin: "0 0 0 1", font: "bold 10px Arial" }] },

                { color: "#b8b8b8", xaxis: { from: 12.4, to: 12.5 }, yaxis: { from: 5.2, to: 5.8 } },
                { color: "#e6e6e6", xaxis: { from: 12.5, to: 13.5 }, yaxis: { from: 5.2, to: 5.8 }, texts: [{ text: "FR", textColor: "#000", textAlign: "left", textMargin: "0 0 0 1", font: "bold 12px Arial" }, { text: "BX3-10", textColor: "#000", textAlign: "left", textBaseline: "bottom", textMargin: "0 0 0 1", font: "bold 10px Arial" }] },

                { color: "#b8b8b8", xaxis: { from: 13.4, to: 13.5 }, yaxis: { from: 6.2, to: 6.8 } },
                { color: "#e6e6e6", xaxis: { from: 13.5, to: 14.5 }, yaxis: { from: 6.2, to: 6.8 }, texts: [{ text: "FR", textColor: "#000", textAlign: "left", textMargin: "0 0 0 1", font: "bold 12px Arial" }, { text: "BX11-12", textColor: "#000", textAlign: "left", textBaseline: "bottom", textMargin: "0 0 0 1", font: "bold 10px Arial" }] },

                { color: "#b8b8b8", xaxis: { from: 14.4, to: 14.5 }, yaxis: { from: 7.2, to: 7.8 } },
                { color: "#e6e6e6", xaxis: { from: 14.5, to: 15.5 }, yaxis: { from: 7.2, to: 7.8 }, texts: [{ text: "FR", textColor: "#000", textAlign: "left", textMargin: "0 0 0 1", font: "bold 12px Arial" }, { text: "BX13-14", textColor: "#000", textAlign: "left", textBaseline: "bottom", textMargin: "0 0 0 1", font: "bold 10px Arial" }] },

                // A example marking that is behind the grid (by specify a color with a opacity value). 
	            // By default the markings will be above the grid.
	            { color: "rgba(100, 100, 100, 0.5)", xaxis: { from: 3.5, to: 6.5 }, yaxis: { from: 5.5, to: 8.5 }, texts: [{ text: "I'm behind the grid,\r\nothers are above it.", font: "13px Arial" }] }
	        ];
	        
	        var data = [[
	            ["you_are_here.png", 10, 3.9, 11.1, 5.4]
	        ]];
            
	        var options = {
	            series: { images: { show: true } },
	            xaxis: {
	                ticks: [2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18],
	                tickFormatter: xAxisLabelGenerator,
	                min: 2,
	                max: 19
	            },
	            yaxis: {
	                ticks: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],
	                tickFormatter: yAxisLabelGenerator,
	                min: 0,
	                max: 9
	            },
	            grid: {
	                show: true,
	                markings: markings,
	                borderColor: "#000",
	                backgroundColor: { colors: ["#fff", "#fff"] }
	            }
	        };

	        $(document).ready(function () {
	            $.plot.image.loadDataImages(data, options, function () {
	                $.plot("#goal-map-canvas-wrapper", data, options);
	            });
	        });
	    });

	</script>
</head>
<body>

	<div id="header">
		<h2>Adding text into markings</h2>
	</div>

	<div id="content">
	    <div class="demo-container">
            <div id="goal-map-canvas-wrapper" class="demo-placeholder"></div>
	    </div>
        
        <p>This example shows how to add text into markings, and how to draw markings with rounded corner.</p>
        <p>The chart here is actually a goal ladder map, and it also shows how to use image plugin to draw icons on to your chart (Notice the "You are here" icon <img src="you_are_here.png" height="30" alt="You are here"/> on this chart.). If you don't need to draw images/icons onto your chart, you don't need to reference the image plugin.</p>

	</div>

	<div id="footer">
		Copyright &copy; 2007 - 2013 IOLA and Ole Laursen
	</div>

</body>
</html>
